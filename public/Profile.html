<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="img/ZappnottLogo.png" type="image/icon">
    <title>Profile</title>
</head>
<body>
    <div class="bg-Likha h-[5rem] w-full shadow-md p-2.5 fixed z-50">
        <nav class="md:flex md:items-center">   
            <div >
                <img src="img/ZappnottLogo.png" alt="" class="h-[4rem] ml-[2rem] cursor-pointer md:cursor-default" onclick="Menu(this)" name = "menu" id="menubutton">
            </div>
            <div class="">
                <ul class="md:flex md:space-x-16 md:items-center md:z-auto md:static absolute bg-Likha w-full left-0 md:w-auto md:py-0 py-4 md:pl-0 pl-7 md:opacity-100 opacity-0 top-[-400px] transition-all ease-in md:ml-24">
                    <li class="my-6 md:my-0">
                        <a href="Home.html" class="hover:text-outline duration-300">
                            HOME
                        </a>
                    </li>
                    <li class="my-6 md:my-0">
                        <a href="" class="hover:text-outline duration-300">
                            SHOP
                        </a>
                    </li>
                    <li class="my-6 md:my-0">
                        <a href="" class="hover:text-outline duration-300">
                            CREATE
                        </a>
                </ul>
            </div>
            <div class="flex fixed p-3 top-1 right-1 md:right-16">
                <img src="img/SEARCH BAR.png" class="h-[3rem]" alt="">
                <a href=""><img src="img/PROFILE.png" class="h-[3rem]" alt=""></a>
                <img src="img/CART.png" class="h-[3rem] cursor-pointer" alt="" id="CartIcon">
            </div>
        </nav>
    </div>
    <div class="bg-Likha min-h-screen">
        <div id="main-container" class=" relative w-[1200px] h-[40rem] left-[12rem] top-[8rem] space-y-7">
            <div class="flex items-center space-x-[5rem]">
                <div class="w-[415px] h-[205px] bg-[#F07C541A] outline outline-[3px] outline-outline rounded-[15px] ml-[4rem] flex">
                   <div class="flex-1 text-center mt-[1rem] relative">
                    <div class="h-[82px] w-[82px] outline outline-2 outline-outline relative left-[10.5rem] rounded-full mt-[2rem] ">
                        <div>
                            <img src="img/profilepic.jpeg" alt="" class="h-[82px] w-[82px] rounded-full">
                        </div>
                    </div>
                    <div>
                        <h1 id="Name" class="font-Inter font-medium text-xl"></h1>
                    </div>
                    </div>
                    
                    <div class="absolute top-[-1] ml-[23rem] cursor-pointer">
                        <img src="/img/LogOut.png" class="w-[50px] h-[50px]" alt="" id="LogOut">
                       
                    </div>
                </div>
                <div class="w-[464px] h-[117px] bg-[#F07C541A] outline outline-[3px] outline-outline rounded-[15px] items-center flex space-x-5">
                    <a href="Orders.html"><button class="justify-center bg-outline ml-[2rem] w-[190px] h-[53px] flex items-center rounded-xl space-x-2"><img class="w-[2rem] h-[2rem] float-left" src="img/Orders.png" alt=""><span class="text-[#FFF]">Orders</span></button></a>
                    <button class="justify-center w-[190px] h-[53px] bg-outline flex items-center rounded-lg space-x-2"><img src="img/History.png" class="w-[2rem] h-[2rem] float-left" alt=""><span class="text-[#FFF]">History</span></button>
                </div>
            </div>
            <div class="w-[1100px] h-[400px] bg-[#F07C541A] outline outline-[3px] outline-outline rounded-[15px] pt-5">
                <div class="font-Montagu font-bold text-2xl text-center">Profile Info</div>
                <div class="">
                    
                </div>
            </div>
        </div>
    </div>
</body>
<script src="AuthorizationBE.js"></script>
<script>
    document.getElementById('LogOut').addEventListener('click', () => {
    fetch('/LogOut', {
        method: 'POST',
        credentials: 'include',
        headers: {
            'Content-Type': 'application/json'
        }
    })
    .then(response => {
        if (response.ok) {
            alert('Logout successful');
            window.location.href = '/SignIn.html';
        } else {
            alert('Error logging out');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Error logging out');
    });
});

async function fetchUserName(){
    try{
        const reseult = await fetch('/User');
        if(reseult.ok){
            const Name = await reseult.json();
            document.getElementById('Name').innerText = Name[0].Name
        }

    }catch (error){
        console.error('Error fetching user name:', error);
    }
}
fetchUserName();
</script>
</html>